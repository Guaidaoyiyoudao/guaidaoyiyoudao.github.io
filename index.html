<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="信息安全,学习记录">










<meta name="keywords" content="信息安全,information security,blog,learn">
<meta property="og:type" content="website">
<meta property="og:title" content="guaidaoyiyoudao">
<meta property="og:url" content="likongqiang.xyz/index.html">
<meta property="og:site_name" content="guaidaoyiyoudao">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="guaidaoyiyoudao">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="likongqiang.xyz/">





  <title>guaidaoyiyoudao</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">guaidaoyiyoudao</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="likongqiang.xyz/2019/05/01/elf学习笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="怪道亦有道">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="guaidaoyiyoudao">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/01/elf学习笔记/" itemprop="url">elf学习笔记</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-01T14:01:35+08:00">
                2019-05-01
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ELF文件结构"><a href="#ELF文件结构" class="headerlink" title="ELF文件结构"></a>ELF文件结构</h2><h3 id="ELF-header"><a href="#ELF-header" class="headerlink" title="ELF header"></a>ELF header</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#define EI_NIDENT 16</span><br><span class="line"></span><br><span class="line">typedef struct &#123;</span><br><span class="line">    unsigned char e_ident[EI_NIDENT];</span><br><span class="line">    uint16_t      e_type;</span><br><span class="line">    uint16_t      e_machine;</span><br><span class="line">    uint32_t      e_version;</span><br><span class="line">    ElfN_Addr     e_entry;</span><br><span class="line">    ElfN_Off      e_phoff;</span><br><span class="line">    ElfN_Off      e_shoff;</span><br><span class="line">    uint32_t      e_flags;</span><br><span class="line">    uint16_t      e_ehsize;</span><br><span class="line">    uint16_t      e_phentsize;</span><br><span class="line">    uint16_t      e_phnum;</span><br><span class="line">    uint16_t      e_shentsize;</span><br><span class="line">    uint16_t      e_shnum;</span><br><span class="line">    uint16_t      e_shstrndx;</span><br><span class="line">&#125; ElfN_Ehdr;</span><br></pre></td></tr></table></figure>
<h4 id="e-ident"><a href="#e-ident" class="headerlink" title="e_ident"></a><code>e_ident</code></h4><p>指定了如何去解释该文件。</p>
<p>0-3四个字节的内容是一个魔数，内容为<code>0x7f</code>,<code>E</code>,<code>L</code>,<code>F</code>。</p>
<h5 id="EI-CLASS"><a href="#EI-CLASS" class="headerlink" title="EI_CLASS"></a><strong>EI_CLASS</strong></h5><p>第五个字节，显示二进制文件的架构：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ELFCLASSNONE  This class is invalid.</span><br><span class="line">ELFCLASS32    This defines the 32-bit architecture.  It supports machines with files and virtual address spaces up to 4 Gigabytes.</span><br><span class="line">ELFCLASS64    This defines the 64-bit architecture.</span><br></pre></td></tr></table></figure></p>
<p><code>01</code>表示是32位，<code>02</code>表示是64位。</p>
<h5 id="EI-DATA"><a href="#EI-DATA" class="headerlink" title="EI_DATA"></a><strong>EI_DATA</strong></h5><p>第六个字节显示是大端还是小端:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ELFDATANONE   Unknown data format.</span><br><span class="line">ELFDATA2LSB   Two&apos;s complement, little-endian.</span><br><span class="line">ELFDATA2MSB   Two&apos;s complement, big-endian.</span><br></pre></td></tr></table></figure></p>
<p><code>01</code> 小端，<code>02</code>大端。</p>
<blockquote>
<p>大端模式，是指数据的高字节保存在内存的低地址中，而数据的低字节保存在内存的高地址中，这样的存储模式有点儿类似于把数据当作字符串顺序处理：地址由小向大增加，而数据从高位往低位放；这和我们的阅读习惯一致。<br>小端模式，是指数据的高字节保存在内存的高地址中，而数据的低字节保存在内存的低地址中，这种存储模式将地址的高低和数据位权有效地结合起来，高地址部分权值高，低地址部分权值低。</p>
</blockquote>
<h5 id="EI-VERSION"><a href="#EI-VERSION" class="headerlink" title="EI_VERSION"></a><strong>EI_VERSION</strong></h5><p>第七个字节，显示版本号：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">EV_NONE       Invalid version.</span><br><span class="line">EV_CURRENT    Current version.</span><br></pre></td></tr></table></figure>
<p><code>01</code>当前版本</p>
<h5 id="EI-OSABI"><a href="#EI-OSABI" class="headerlink" title="EI_OSABI"></a><strong>EI_OSABI</strong></h5><p>第八个字节，选择的操作系统和ABI版本:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ELFOSABI_NONE        Same as ELFOSABI_SYSV</span><br><span class="line">ELFOSABI_SYSV        UNIX System V ABI</span><br><span class="line">ELFOSABI_HPUX        HP-UX ABI</span><br><span class="line">ELFOSABI_NETBSD      NetBSD ABI</span><br><span class="line">ELFOSABI_LINUX       Linux ABI</span><br><span class="line">ELFOSABI_SOLARIS     Solaris ABI</span><br><span class="line">ELFOSABI_IRIX        IRIX ABI</span><br><span class="line">ELFOSABI_FREEBSD     FreeBSD ABI</span><br><span class="line">ELFOSABI_TRU64       TRU64 UNIX ABI</span><br><span class="line">ELFOSABI_ARM         ARM architecture ABI</span><br><span class="line">ELFOSABI_STANDALONE  Stand-alone (embedded) ABI</span><br></pre></td></tr></table></figure></p>
<p><strong>EI_ABIVERSION</strong> 第九个字节，ABI版本号,用来辨别ABI版本。这个的值取依赖于<code>EI_OSABI</code></p>
<p><strong>EI_PAD</strong> 填充开始，通常值被设为0。应用程序应该忽略这些值，这个区域可能在以后会有其他的用途，目前无用。</p>
<p><strong>EI_NIDENT</strong> e_ident的数组的大小，从上面的定义看是16个字节。</p>
<h4 id="e-type"><a href="#e-type" class="headerlink" title="e_type"></a><strong>e_type</strong></h4><p>17-18字节<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ET_NONE         An unknown type.</span><br><span class="line">ET_REL          A relocatable file.</span><br><span class="line">ET_EXEC         An executable file.</span><br><span class="line">ET_DYN          A shared object.</span><br><span class="line">ET_CORE         A core file.</span><br></pre></td></tr></table></figure></p>
<p>指定了文件的类型</p>
<h4 id="e-machine"><a href="#e-machine" class="headerlink" title="e_machine"></a><strong>e_machine</strong></h4><p>19-20字节<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">EM_NONE         An unknown machine</span><br><span class="line">EM_M32          AT&amp;T WE 32100</span><br><span class="line">EM_SPARC        Sun Microsystems SPARC</span><br><span class="line">EM_386          Intel 80386</span><br><span class="line">EM_68K          Motorola 68000</span><br><span class="line">EM_88K          Motorola 88000</span><br><span class="line">EM_860          Intel 80860</span><br><span class="line">EM_MIPS         MIPS RS3000 (big-endian only)</span><br><span class="line">EM_PARISC       HP/PA</span><br><span class="line">EM_SPARC32PLUS  SPARC with enhanced instruction set</span><br><span class="line">EM_PPC          PowerPC</span><br><span class="line">EM_PPC64        PowerPC 64-bit</span><br><span class="line">EM_S390         IBM S/390</span><br><span class="line">EM_ARM          Advanced RISC Machines</span><br><span class="line">EM_SH           Renesas SuperH</span><br><span class="line">EM_SPARCV9      SPARC v9 64-bit</span><br><span class="line">EM_IA_64        Intel Itanium</span><br><span class="line">EM_X86_64       AMD x86-64</span><br><span class="line">EM_VAX          DEC Vax</span><br></pre></td></tr></table></figure></p>
<p>对于单个文件所要求的架构</p>
<h4 id="e-version"><a href="#e-version" class="headerlink" title="e_version"></a><strong>e_version</strong></h4><p>20-24 字节<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">EV_NONE         Invalid version</span><br><span class="line">EV_CURRENT      Current version</span><br></pre></td></tr></table></figure></p>
<p>文件版本号</p>
<h4 id="e-entry"><a href="#e-entry" class="headerlink" title="e_entry"></a><strong>e_entry</strong></h4><p>25-32字节<br>32位系统就是4个字节大小</p>
<p>给出了程序的入口点，没有的话就是0</p>
<h4 id="e-phoff"><a href="#e-phoff" class="headerlink" title="e_phoff"></a><strong>e_phoff</strong></h4><p>33-40字节<br>32位系统就是4个字节大小<br>程序头的字节偏移量</p>
<h4 id="e-shoff"><a href="#e-shoff" class="headerlink" title="e_shoff"></a><strong>e_shoff</strong></h4><p>41-48字节<br>32位系统就是4个字节大小<br>节区头的字节偏移量</p>
<h4 id="e-flags"><a href="#e-flags" class="headerlink" title="e_flags"></a><strong>e_flags</strong></h4><p>49-52字节<br>目前未定义</p>
<h4 id="e-ehsize"><a href="#e-ehsize" class="headerlink" title="e_ehsize"></a><strong>e_ehsize</strong></h4><p>53-54 字节<br>elf header的大小</p>
<h4 id="e-phentsize"><a href="#e-phentsize" class="headerlink" title="e_phentsize"></a><strong>e_phentsize</strong></h4><p>55-56字节<br>程序头在程序头表中的大小，所有的程序头都是同样大小。</p>
<h4 id="e-phnum"><a href="#e-phnum" class="headerlink" title="e_phnum"></a><strong>e_phnum</strong></h4><p>57-58字节<br>程序头的数量</p>
<h4 id="e-shentsize"><a href="#e-shentsize" class="headerlink" title="e_shentsize"></a><strong>e_shentsize</strong></h4><p>59-60字节<br>节区头的大小</p>
<h4 id="e-shnum"><a href="#e-shnum" class="headerlink" title="e_shnum"></a><strong>e_shnum</strong></h4><p>61-62字节<br>节区头的数量</p>
<h4 id="e-shstrndx"><a href="#e-shstrndx" class="headerlink" title="e_shstrndx"></a><strong>e_shstrndx</strong></h4><p>63-64字节</p>
<blockquote>
<p>This member holds the section header table index of the entry associated  with the section name string table.  If the file has no section name string table, this member holds the value SHN_UNDEF.</p>
</blockquote>
<h3 id="程序头"><a href="#程序头" class="headerlink" title="程序头"></a>程序头</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">typedef struct &#123;</span><br><span class="line">    uint32_t   p_type;</span><br><span class="line">    Elf32_Off  p_offset;</span><br><span class="line">    Elf32_Addr p_vaddr;</span><br><span class="line">    Elf32_Addr p_paddr;</span><br><span class="line">    uint32_t   p_filesz;</span><br><span class="line">    uint32_t   p_memsz;</span><br><span class="line">    uint32_t   p_flags;</span><br><span class="line">    uint32_t   p_align;</span><br><span class="line">    &#125; Elf32_Phdr;</span><br><span class="line">typedef struct &#123;</span><br><span class="line">    uint32_t   p_type;</span><br><span class="line">    uint32_t   p_flags;</span><br><span class="line">    Elf64_Off  p_offset;</span><br><span class="line">    Elf64_Addr p_vaddr;</span><br><span class="line">    Elf64_Addr p_paddr;</span><br><span class="line">    uint64_t   p_filesz;</span><br><span class="line">    uint64_t   p_memsz;</span><br><span class="line">    uint64_t   p_align;</span><br><span class="line">&#125; Elf64_Phdr;</span><br></pre></td></tr></table></figure>
<p>程序头只对可执行文件和共享目标文件有效。</p>
<h4 id="p-type"><a href="#p-type" class="headerlink" title="p_type"></a><strong>p_type</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#define	PT_NULL		0		/* Program header table entry unused */</span><br><span class="line">#define PT_LOAD		1		/* Loadable program segment */</span><br><span class="line">#define PT_DYNAMIC	2		/* Dynamic linking information */</span><br><span class="line">#define PT_INTERP	3		/* Program interpreter */</span><br><span class="line">#define PT_NOTE		4		/* Auxiliary information */</span><br><span class="line">#define PT_SHLIB	5		/* Reserved */</span><br><span class="line">#define PT_PHDR		6		/* Entry for header table itself */</span><br><span class="line">#define PT_TLS		7		/* Thread-local storage segment */</span><br><span class="line">#define	PT_NUM		8		/* Number of defined types */</span><br><span class="line">#define PT_LOOS		0x60000000	/* Start of OS-specific */</span><br><span class="line">#define PT_GNU_EH_FRAME	0x6474e550	/* GCC .eh_frame_hdr segment */</span><br><span class="line">#define PT_GNU_STACK	0x6474e551	/* Indicates stack executability */</span><br><span class="line">#define PT_GNU_RELRO	0x6474e552	/* Read-only after relocation */</span><br><span class="line">#define PT_LOSUNW	0x6ffffffa</span><br><span class="line">#define PT_SUNWBSS	0x6ffffffa	/* Sun Specific segment */</span><br><span class="line">#define PT_SUNWSTACK	0x6ffffffb	/* Stack segment */</span><br><span class="line">#define PT_HISUNW	0x6fffffff</span><br><span class="line">#define PT_HIOS		0x6fffffff	/* End of OS-specific */</span><br><span class="line">#define PT_LOPROC	0x70000000	/* Start of processor-specific */</span><br><span class="line">#define PT_HIPROC	0x7fffffff	/* End of processor-specific */</span><br></pre></td></tr></table></figure>
<h5 id="PT-PHDR"><a href="#PT-PHDR" class="headerlink" title="PT_PHDR"></a>PT_PHDR</h5><p>定义文件头表在文件和内存image的位置和大小，只会有一个这样类型的文件头</p>
<h5 id="PT-GNU-STACK"><a href="#PT-GNU-STACK" class="headerlink" title="PT_GNU_STACK"></a>PT_GNU_STACK</h5><p>通过p_flags来控制栈的状态</p>
<h4 id="p-flags"><a href="#p-flags" class="headerlink" title="p_flags"></a><strong>p_flags</strong></h4><blockquote>
<p>PF_X   An executable segment.<br>PF_W   A writable segment.<br>PF_R   A readable segment.</p>
</blockquote>
<h4 id="p-offset"><a href="#p-offset" class="headerlink" title="p_offset"></a><strong>p_offset</strong></h4><p>从文件开始到首个字节出现的偏移量。</p>
<h3 id="section-header"><a href="#section-header" class="headerlink" title="section header"></a>section header</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">typedef struct &#123;</span><br><span class="line">    uint32_t   sh_name;</span><br><span class="line">    uint32_t   sh_type;</span><br><span class="line">    uint32_t   sh_flags;</span><br><span class="line">    Elf32_Addr sh_addr;</span><br><span class="line">    Elf32_Off  sh_offset;</span><br><span class="line">    uint32_t   sh_size;</span><br><span class="line">    uint32_t   sh_link;</span><br><span class="line">    uint32_t   sh_info;</span><br><span class="line">    uint32_t   sh_addralign;</span><br><span class="line">    uint32_t   sh_entsize;</span><br><span class="line">&#125; Elf32_Shdr;</span><br><span class="line"></span><br><span class="line">typedef struct &#123;</span><br><span class="line">    uint32_t   sh_name;</span><br><span class="line">    uint32_t   sh_type;</span><br><span class="line">    uint64_t   sh_flags;</span><br><span class="line">    Elf64_Addr sh_addr;</span><br><span class="line">    Elf64_Off  sh_offset;</span><br><span class="line">    uint64_t   sh_size;</span><br><span class="line">    uint32_t   sh_link;</span><br><span class="line">    uint32_t   sh_info;</span><br><span class="line">    uint64_t   sh_addralign;</span><br><span class="line">    uint64_t   sh_entsize;</span><br><span class="line">&#125; Elf64_Shdr;</span><br></pre></td></tr></table></figure>
<h4 id="bss"><a href="#bss" class="headerlink" title=".bss"></a>.bss</h4><p>保存了未初始化的数据，定义这个section,当程序运行的时候，会把数据全部初始化为0</p>
<h4 id="data"><a href="#data" class="headerlink" title=".data"></a>.data</h4><p>保存了初始化的数据</p>
<h4 id="text"><a href="#text" class="headerlink" title=".text"></a>.text</h4><p>保存了可执行指令</p>
<h4 id="rodata"><a href="#rodata" class="headerlink" title=".rodata"></a>.rodata</h4><p>保存了只读数据</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="likongqiang.xyz/2019/04/30/README/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="怪道亦有道">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="guaidaoyiyoudao">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/30/README/" itemprop="url">Untitled</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-30T19:18:58+08:00">
                2019-04-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="blogBackup"><a href="#blogBackup" class="headerlink" title="blogBackup"></a>blogBackup</h1><p>blog backup</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="likongqiang.xyz/2019/04/30/命令行下连接wifi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="怪道亦有道">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="guaidaoyiyoudao">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/30/命令行下连接wifi/" itemprop="url">命令行下连接wifi</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-30T15:28:14+08:00">
                2019-04-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="查看无线网卡的名称"><a href="#查看无线网卡的名称" class="headerlink" title="查看无线网卡的名称"></a>查看无线网卡的名称</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip link</span><br></pre></td></tr></table></figure>
<p>结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3: wlp7s0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc mq state DOWN mode DORMANT group default qlen 1000</span><br><span class="line">    link/ether a0:d3:7a:6a:fd:8d brd ff:ff:ff:ff:ff:ff</span><br></pre></td></tr></table></figure></p>
<h2 id="开启无线网卡"><a href="#开启无线网卡" class="headerlink" title="开启无线网卡"></a>开启无线网卡</h2><p>如果显示<code>command failed: Network is down (-100)</code>,那么需要先开启无线网卡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip link set dev wlp7s0 up</span><br></pre></td></tr></table></figure>
<h2 id="扫描无线网络"><a href="#扫描无线网络" class="headerlink" title="扫描无线网络"></a>扫描无线网络</h2><p><code>iw wlp7s0 scan</code><br>如果要连自己的wifi，可以结合grep命令：<br><code>iw wlp7s0 scan | grep &quot;ssid&quot; -B 10 -A 10</code>，即显示匹配行的前后10行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ sudo iw wlp7s0 scan | grep &quot;guaidao&quot; -B 5 -A 10 </span><br><span class="line">        beacon interval: 100 TUs</span><br><span class="line">        capability: ESS Privacy ShortPreamble SpectrumMgmt RadioMeasure (0x1131)</span><br><span class="line">        signal: -44.00 dBm</span><br><span class="line">        last seen: 84 ms ago</span><br><span class="line">        Information elements from Probe Response frame:</span><br><span class="line">        SSID: guaidao</span><br><span class="line">        Supported rates: 6.0* 9.0 12.0* 18.0 24.0* 36.0 48.0 54.0 </span><br><span class="line">        Power constraint: 0 dB</span><br><span class="line">        RSN:     * Version: 1</span><br><span class="line">                 * Group cipher: CCMP</span><br><span class="line">                 * Pairwise ciphers: CCMP</span><br><span class="line">                 * Authentication suites: PSK</span><br><span class="line">                 * Capabilities: 16-PTKSA-RC 1-GTKSA-RC (0x000c)</span><br></pre></td></tr></table></figure></p>
<p>就可以知道指定wifi的信息了。</p>
<h2 id="连接wifi"><a href="#连接wifi" class="headerlink" title="连接wifi"></a>连接wifi</h2><h3 id="生成wpa-wpa2配置文件"><a href="#生成wpa-wpa2配置文件" class="headerlink" title="生成wpa/wpa2配置文件"></a>生成wpa/wpa2配置文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wpa_passphrase guaidao password &gt;&gt; ~/wifi.conf</span><br></pre></td></tr></table></figure>
<p>password是你需要连接的那个wifi的密码。</p>
<h3 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo wpa_supplicant -B -D wext -i wlp7s0 -c ~/wifi.conf</span><br></pre></td></tr></table></figure>
<p>-B 后台运行<br>-D 指定无线网卡的驱动，一般都是<code>wext</code><br>-c 连接wifi的配置文件，即我们刚才生成的配置文件</p>
<h2 id="查看连接信息"><a href="#查看连接信息" class="headerlink" title="查看连接信息"></a>查看连接信息</h2><p><code>iw wlp7s0 link</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Connected to a4:50:46:63:ee:7b (on wlp7s0)</span><br><span class="line">        SSID: guaidao</span><br><span class="line">        freq: 5765</span><br><span class="line">        RX: 1287 bytes (14 packets)</span><br><span class="line">        TX: 2072 bytes (14 packets)</span><br><span class="line">        signal: -38 dBm</span><br><span class="line">        rx bitrate: 234.0 MBit/s VHT-MCS 5 80MHz VHT-NSS 1</span><br><span class="line">        tx bitrate: 433.3 MBit/s VHT-MCS 9 80MHz short GI VHT-NSS 1</span><br><span class="line"></span><br><span class="line">        bss flags:      short-preamble short-slot-time</span><br><span class="line">        dtim period:    2</span><br><span class="line">        beacon int:     100</span><br></pre></td></tr></table></figure></p>
<h2 id="分配ip"><a href="#分配ip" class="headerlink" title="分配ip"></a>分配ip</h2><p>在没有分配之前，我们的信息是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3: wlp7s0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc mq state DOWN mode DORMANT group default qlen 1000</span><br><span class="line">    link/ether a0:d3:7a:6a:fd:8d brd ff:ff:ff:ff:ff:ff</span><br></pre></td></tr></table></figure></p>
<p>分配<br><code>dhclient wlp7s0</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="likongqiang.xyz/2019/04/27/lavarel学习记录/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="怪道亦有道">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="guaidaoyiyoudao">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/27/lavarel学习记录/" itemprop="url">lavarel学习记录</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-27T08:12:14+08:00">
                2019-04-27
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/php/" itemprop="url" rel="index">
                    <span itemprop="name">php</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="文件目录解释"><a href="#文件目录解释" class="headerlink" title="文件目录解释"></a>文件目录解释</h2><h3 id="App"><a href="#App" class="headerlink" title="App"></a>App</h3><p>该目录包含了应用的核心代码，大多数类都在这个目录里面。</p>
<h3 id="Bootstrap"><a href="#Bootstrap" class="headerlink" title="Bootstrap"></a>Bootstrap</h3><p>Bootstrap里面的<code>app.php</code>用来启动框架。<br><code>cache</code>目录包含性能优化的文件。</p>
<h3 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h3><p>应用所有的配置文件都在该目录，需要熟悉里面的选项。</p>
<h3 id="Database"><a href="#Database" class="headerlink" title="Database"></a>Database</h3><p>包含了<code>factories</code>，<code>migrations</code>,<code>seeds</code>,如果想使用sqlite数据库，可以把文件放在这个目录里面。</p>
<h3 id="Public"><a href="#Public" class="headerlink" title="Public"></a>Public</h3><p>里面<code>index.php</code>是所有应用请求和自动加载配置的入口点。这个目录也包括了图片，css,以及javascript。<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/04/27/lavarel学习记录/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </p></div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="likongqiang.xyz/2019/04/27/hello/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="怪道亦有道">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="guaidaoyiyoudao">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/27/hello/" itemprop="url">hello</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-27T00:14:36+08:00">
                2019-04-27
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂谈/" itemprop="url" rel="index">
                    <span itemprop="name">杂谈</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="杂谈"><a href="#杂谈" class="headerlink" title="杂谈"></a>杂谈</h2><p>很久很久之前就尝试在弄博客了，之前在用python写了一个简单的博客系统，但是！写出来真的很丑，当时真的挺打击人的，至于后面由于前端不咋地，后来就放弃自己写一个博客系统了。<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/04/27/hello/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </p></div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpeg" alt="怪道亦有道">
            
              <p class="site-author-name" itemprop="name">怪道亦有道</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Guaidaoyiyoudao" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:likongqiang@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">怪道亦有道</span>

  
</div>









        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.4"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.4"></script>


  

</body>
</html>
